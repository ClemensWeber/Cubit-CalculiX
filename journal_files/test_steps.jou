ccx use logfile core on
reset
create brick x 1
create force  on vertex 2  force value 1 moment value 2 direction 0 0 1 
modify force 1 name 'test' add vertex 5  
modify force 1 add surface 5
create pressure on surface 5 magnitude 20
modify pressure 1 name 'test_p'
ccx modify force 1 op new amplitude 22 timedelay -99.55
ccx modify pressure 1 op new amplitude 1 timedelay -55.1

create displacement  on surface 6  dof all fix 99 
modify displacement 1 name 'disp' 
create displacement  on surface 6  dof all fix 0 
ccx modify displacement 2 op new amplitude 1 timedelay -55.1
create displacement on surface 5 dof all fix 55

create surface circle radius 1 zplane 
create temperature  on surface 7  middle 1 gradient 22 

create temperature  on volume 1  value 22
create temperature  on surface 6  value 33
create temperature  on surface 6  value 44
create temperature  on surface 6  value 55
create temperature  on surface 6  value 66
modify temperature 2 name 'temp' 
ccx modify temperature 2 op new amplitude 1 timedelay -55.1

ccx create historyoutput name test_name1 node
ccx create historyoutput name test_name2 element
ccx create historyoutput name test_name3 contact
ccx create historyoutput name test_name1 node
ccx create historyoutput name test_name2 element
ccx create historyoutput name test_name3 contact
ccx create historyoutput name test_name1 node
ccx create historyoutput name test_name2 element
ccx create historyoutput name test_name3 contact
ccx modify historyoutput 1 node name juhey nodeset 99 frequency 22 frequencyf 11 totals_yes global_yes key_on u  nt tsf ttf pn psf ptf mach cp vf depf turb mf rf rfl
ccx modify historyoutput 2 element name juhey block 99 frequency 22 frequencyf 11 totals_yes global_yes key_on S SVF E ME PEEQ CEEQ ENER SDV HFL HFLF COORD ELSE ELKE EVOL EMAS EBHE CENT
ccx modify historyoutput 3 contact name juhey contactpair 99 frequency 22 totals_yes global_yes key_on cdis cstr cels cnum cf cfn cfs

ccx create fieldoutput name fieldtest1 node
ccx create fieldoutput name fieldtest2 element
ccx create fieldoutput name fieldtest3 contact
ccx create fieldoutput name fieldtest1 node
ccx create fieldoutput name fieldtest2 element
ccx create fieldoutput name fieldtest3 contact
ccx create fieldoutput name fieldtest1 node
ccx create fieldoutput name fieldtest2 element
ccx create fieldoutput name fieldtest3 contact

ccx modify fieldoutput 1 node name fieldjuhi nodeset 11 frequency 22 frequencyf 33 totals_yes global_yes output_2d output_all_on last_iterations_on contact_elements_on key_on CP DEPF DEPT DTF HCRI KEQ MACH MAXU MF NT PNT POT PRF PS PSF PT PTF PU RF RFL SEN TS TSF TT TTF TURB U V VF
ccx modify fieldoutput 2 element name fieldjuhi nodeset 11 frequency 22 frequencyf 33 global_yes output_2d output_all_on section_forces_on last_iterations_on contact_elements_on key_on CEEQ E ECD EMFB EMFE ENER ERR HER HFL HFLF MAXE MAXS ME PEEQ PHS S SF SMID SNEG SPOS SVF SDV THE ZZS
ccx modify fieldoutput 3 contact name fieldcontact frequency 33 last_iterations_on contact_elements_on key_on cdis cstr cels pcon

ccx create initialcondition displacement
ccx create initialcondition temperature
ccx create initialcondition displacement
ccx create initialcondition temperature
ccx create initialcondition displacement
ccx create initialcondition temperature
ccx modify initialcondition 1 displacement bc_id 2
ccx modify initialcondition 5 displacement bc_id 1
ccx modify initialcondition 3 displacement bc_id 3
ccx modify initialcondition 2 temperature bc_id 1
ccx modify initialcondition 4 temperature bc_id 2
ccx modify initialcondition 6 temperature bc_id 3

ccx create step name stepname1 noanalysis
ccx create step name stepname2 static
ccx create step name stepname3 frequency
ccx create step name stepname4 buckle
ccx create step name stepname5 heattransfer
ccx create step name stepname6 coupledtemperaturedisplacement
ccx create step name stepname7 uncoupledtemperaturedisplacement
ccx create step name stepname8 static

ccx step 1 add load force 1 2  pressure 1 2 
ccx step 2 add load force 1 2  pressure 1 2 
ccx step 3 add load force 1 2  pressure 1 2 
ccx step 4 add load force 1 2  pressure 1 2 
ccx step 5 add load force 1 2  pressure 1 2 
ccx step 6 add load force 1 2  pressure 1 2
ccx step 7 add load force 1 2  pressure 1 2 
ccx step 4 remove load force 2  pressure 1 99

ccx step 1 add bc displacement 1 2 temperature 1 2
ccx step 2 add bc displacement 1 2 temperature 1 2
ccx step 3 add bc displacement 1 2 temperature 1 2
ccx step 4 add bc displacement 1 2 temperature 1 2
ccx step 5 add bc displacement 1 2 temperature 1 2
ccx step 6 add bc displacement 1 2 temperature 1 2
ccx step 7 add bc displacement 1 2 temperature 1 2
ccx step 4 remove bc displacement 1 99 temperature 2

ccx step 1 add historyoutput 1 2
ccx step 2 add historyoutput 1 2
ccx step 3 add historyoutput 1 2
ccx step 4 add historyoutput 1 2
ccx step 5 add historyoutput 1 2
ccx step 6 add historyoutput 1 2
ccx step 7 add historyoutput 1 2
ccx step 4 remove historyoutput 1

ccx step 1 add fieldoutput 1 2
ccx step 2 add fieldoutput 1 2
ccx step 3 add fieldoutput 1 2
ccx step 4 add fieldoutput 1 2
ccx step 5 add fieldoutput 1 2
ccx step 6 add fieldoutput 1 2
ccx step 7 add fieldoutput 1 2
ccx step 4 remove fieldoutput 1

ccx modify step 1 parameter name noanalysisstep perturbation_yes nlgeom_yes inc 1000 incf 99 thermalnetwork_yes amplitude_step shocksmoothing 0.22
ccx modify step 2 static name staticstep solver pastix direct_yes explicit_yes timereset_yes totaltimeatstart 1.25 initialtimeincrement 0.0001 timeperiodofstep 1.3 minimumtimeincrement 0.1 maximumtimeincrement 5.99 initialtimeincrementcfd 0.000001 
ccx modify step 3 frequency name frequencystep solver spooles storage_yes global_yes cycmpc_active eigenfrequencies 11 lower 5 upper 6
ccx modify step 4 buckle name bucklestep solver pardiso bucklingfactors 11.5 accuracy 0.11 lanczosvectors 1 maximumiterations 99.9
ccx modify step 5 heattransfer name heattransferstep solver pastix direct_yes steadystate_yes frequency_yes modaldynamic_yes storage_yes deltmx 2.1 timereset_yes totaltimeatstart 0.1 initialtimeincrement 0.1 timeperiodofstep 2 minimumtimeincrement 1 maximumtimeincrement 20
ccx modify step 6 coupledtemperaturedisplacement name coupledtemperaturedisplacementstep solver pastix direct_yes alpha 0.3 steadystate_yes deltmx 2 timereset_yes totaltimeatstart 1 compressible_yes initialtimeincrement 1 timeperiodofstep 2 minimumtimeincrement 3 maximumtimeincrement 5 initialtimeincrementcfd 1000
ccx modify step 7 uncoupledtemperaturedisplacement name uncoupledtemperaturedisplacementstep solver pastix direct_yes alpha 0.3 steadystate_yes deltmx 2 explicit_yes timereset_yes totaltimeatstart 1 initialtimeincrement 1 timeperiodofstep 2 minimumtimeincrement 3 maximumtimeincrement 5 

export ccx "test_export.inp"


